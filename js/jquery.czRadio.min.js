(function(b){var a=a||{};b.fn.czRadio=function(d){var e="czRadio";var c=b(this).data(e);if(typeof d=="string"&&d=="instance"){return c}var d=b.extend({},a.czRadio.defaults,d||{});return b(this).each(function(){var f=new a.czRadio(d);f.$elements=b(this);f._init();b(this).data(e,f)})};a.czRadio=function(c){this.NAME="czRadio";this.VERSION="2.0";this.options=c;this.$elements=null;this.$active=null;this._checkedIndex=false;this._$radios=Array();this._$labels=Array();this._$wraps=Array()};a.czRadio.defaults={inputName:"",className:"",initCallback:null,changeCallback:null,forbidCallback:null};a.czRadio.prototype={_init:function(){var c=this;this.$elements.addClass("czRadio").addClass(c.options.className);if(this.options.inputName){this.$elements=b(":radio[name="+this.options.inputName+"]",this.$elements[0])}else{this.$elements=b(":radio",this.$elements[0])}this.$elements.each(function(d){c._$radios[d]=b(this).hide();c._$wraps[d]=b(this).wrap("<span></span>").parent();c._$wraps[d].css({display:"inline-block",overflow:"hidden",cursor:"pointer"}).addClass("default");if(c._$radios[d].is(":disabled")==false){if(c._$radios[d].is(":checked")){c._setCheckedClass(d);c.$active=d}}else{c._setDisabledClass(d)}$label=b("label[for='"+c._$radios[d].attr("id")+"']");if(typeof $label=="object"&&$label.attr("tagName")=="LABEL"){c._$labels[d]=$label.removeAttr("for").css("cursor","pointer")}else{c._$labels[d]=null}c._$wraps[d].add(c._$labels[d]).bind("click",function(){c._clickEvent(d)})});this._callback("init")},_clickEvent:function(c){this.$active=c;if(this._$radios[c].is(":disabled")==false){if(!this._$radios[c].is(":checked")){this.setChecked(c);this._callback("change")}}else{this._callback("forbid")}},_getObjectIndex:function(c){for(i in this._$radios){if(typeof c=="object"&&this._$radios[i].val()==c.val()){return i}else{if(this._$radios[i].val()==c){return i}}}return false},_setCheckedClass:function(c){if(this._$radios[c].is(":disabled")==false){this._$wraps[c].attr("class","default default_checked")}else{this._$wraps[c].attr("class","default disabled_checked")}},_setUnCheckedClass:function(c){if(this._$radios[c].is(":disabled")==false){this._$wraps[c].attr("class","default")}else{this._$wraps[c].attr("class","default disabled")}},_setDisabledClass:function(c){if(this._$radios[c].is(":checked")==false){this._$wraps[c].attr("class","default disabled")}else{this._$wraps[c].attr("class","default disabled_checked")}},_setAbledClass:function(c){if(this._$radios[c].is(":checked")==false){this._$wraps[c].attr("class","default")}else{this._$wraps[c].attr("class","default default_checked")}},_callback:function(c){if(!b.isFunction(this.options[c+"Callback"])){return}this.options[c+"Callback"].call(this)},setChecked:function(c){if(typeof c=="undefined"){return}if(typeof c!="number"){var c=this._getObjectIndex(c)}if(c===false){return}for(i in this._$radios){if(i==c){this._setCheckedClass(i);this._$radios[i].attr("checked",true)}else{this._setUnCheckedClass(i);this._$radios[i].removeAttr("checked")}}},setAbled:function(c){if(typeof c=="undefined"){return}if(typeof c!="number"){var c=this._getObjectIndex(c)}if(c==false){return}this._setAbledClass(c);this._$radios[c].removeAttr("disabled")},setDisabled:function(c){if(typeof c=="undefined"){return}if(typeof c!="number"){var c=this._getObjectIndex(c)}if(c==false){return}this._setDisabledClass(c);this._$radios[c].attr("disabled",true)},getCheckedText:function(){if(this.$active!=null){return this._$labels[this.$active].text()}return null},getCheckedValue:function(){if(this.$active!=null){return this._$radios[this.$active].val()}return null},getObject:function(){if(this.$active==null){return false}return this._$radios[this.$active]},getValue:function(){if(this.getObject()==false){return null}return this.getObject().val()},isCheck:function(){if(this.getObject()==false){return null}return this.getObject().is(":checked")}}})(jQuery);